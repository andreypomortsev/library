![Static Badge](https://img.shields.io/badge/Python-3.12%2B-blue)
![MIT license](https://img.shields.io/badge/License-MIT-blue.svg)
# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
library/
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ README.ru.md
‚îú‚îÄ‚îÄ app
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îú‚îÄ‚îÄ core
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.py
‚îÇ   ‚îú‚îÄ‚îÄ routers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ books.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ customers.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ loans.py
‚îÇ   ‚îî‚îÄ‚îÄ schemas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ book.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ customer.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ loan.py
‚îÇ   ‚îî‚îÄ‚îÄ services
‚îÇ       ‚îú‚îÄ‚îÄ book_service.py
‚îÇ       ‚îú‚îÄ‚îÄ customer_service.py
‚îÇ       ‚îî‚îÄ‚îÄ loan_service.py
‚îú‚îÄ‚îÄ db
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ init.sql
‚îÇ   ‚îî‚îÄ‚îÄ procedures.sql
‚îî‚îÄ‚îÄ docker-compose.yml
```

### –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

- **`LICENSE`**: –§–∞–π–ª —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ª–∏—Ü–µ–Ω–∑–∏–∏ MIT.
- **`README.md`**: –§–∞–π–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –ê–Ω–≥–ª–∏–π—Å–∫–æ–º.
- **`README.ru.md`**: –§–∞–π–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞.
- **`app/`**: –ö–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∞–π–ª–∞–º–∏ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
  - **`Dockerfile`**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker –¥–ª—è FastAPI.
  - **`main.py`**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
  - **`requirements.txt`**: –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python.
  - **`routers/`**: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π (–∫–Ω–∏–≥–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∑–∞–π–º—ã).
  - **`schemas/`**: –°—Ö–µ–º—ã Pydantic –¥–ª—è –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö (–∫–Ω–∏–≥–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∑–∞—ë–º).
  - **`services/`**: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (book_service, customer_service, loan_service).
  - **`core/`**: –ö–∞—Ç–∞–ª–æ–≥ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
    - **`database.py`**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
    - **`models.py`**: SQLAlchemy-–º–æ–¥–µ–ª–∏ —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
- **`db/`**: –§–∞–π–ª—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
  - **`Dockerfile`**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker –¥–ª—è –ë–î.
  - **`init.sql`**: –°–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
  - **`procedures.sql`**: –°–∫—Ä–∏–ø—Ç —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º–∏.
- **`docker-compose.yml`**: –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Docker Compose –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤.

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker  
- Docker Compose

### –ó–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```sh
   git clone https://github.com/andreypomortsev/library.git
   cd library
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:
   ```sh
   docker compose up --build
   ```

3. FastAPI –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8000`.  
4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8000/docs`.

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞:

#### –¢–∞–±–ª–∏—Ü–∞: `customers`

| –ö–æ–ª–æ–Ω–∫–∞      | –¢–∏–ø           | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è                    |
|--------------|----------------|--------------------------------|
| id           | SERIAL         | PRIMARY KEY                    |
| name         | VARCHAR(100)   | NOT NULL                       |
| last_name    | VARCHAR(100)   | NOT NULL                       |
| middle_name  | VARCHAR(100)   |                                |
| birth_year   | INTEGER        | NOT NULL                       |
| is_author    | BOOLEAN        | NOT NULL, DEFAULT FALSE        |

#### –¢–∞–±–ª–∏—Ü–∞: `books`

| –ö–æ–ª–æ–Ω–∫–∞   | –¢–∏–ø          | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è                          |
|-----------|---------------|--------------------------------------|
| id        | SERIAL        | PRIMARY KEY                          |
| title     | VARCHAR(255)  | NOT NULL                             |
| author_id | INTEGER       | REFERENCES customers(id)             |
| genre     | VARCHAR(255)  | NOT NULL                             |
| year      | INTEGER       | NOT NULL                             |
| status    | BOOLEAN       | NOT NULL, DEFAULT TRUE               |

#### –¢–∞–±–ª–∏—Ü–∞: `loans`

| –ö–æ–ª–æ–Ω–∫–∞     | –¢–∏–ø     | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è                           |
|-------------|----------|----------------------------------------|
| id          | SERIAL   | PRIMARY KEY                            |
| book_id     | INTEGER  | REFERENCES books(id), NOT NULL         |
| user_id     | INTEGER  | REFERENCES customers(id), NOT NULL     |
| loan_date   | DATE     | NOT NULL, DEFAULT CURRENT_DATE         |
| return_date | DATE     | DEFAULT NULL                           |

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ü–æ–¥—Ä–æ–±–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:  
‚û°Ô∏è [–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã](docs/api.ru.md)

## –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –ª—é–±—ã–µ —É–ª—É—á—à–µ–Ω–∏—è! –°–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ Pull Request.

## –ê–≤—Ç–æ—Ä

- [–ê–Ω–¥—Ä–µ–π –ü–æ–º–æ—Ä—Ü–µ–≤](https://www.linkedin.com/in/andreypomortsev/)

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT ‚Äì –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ [LICENSE](./LICENSE).