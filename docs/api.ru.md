## Endpoints (Точки доступа)

### Customers /Пользователи/

- **POST /users**: Создать нового пользователя
  - *Тело запроса*:
    ```json
    {
      "name": "Имя",
      "last_name": "Фамилия",
      "middle_name": "Отчество",
      "birth_year": 1990
    }
    ```
  - *Ответ*: JSON с созданным пользователем
    ```json
    {
      "id": 1,
      "name": "Имя",
      "last_name": "Фамилия",
      "middle_name": "Отчество",
      "birth_year": 1990,
      "is_author": false
    }
    ```

- **POST /users**: Создать нового автора
  - *Тело запроса*:
    ```json
    {
      "name": "Имя Автора",
      "last_name": "Фамилия Автора",
      "middle_name": "Отчество Автора",
      "birth_year": 1990,
      "is_author": true
    }
    ```
  - *Ответ*: JSON с созданным автором
    ```json
    {
      "id": 2,
      "name": "Имя Автора",
      "last_name": "Фамилия Автора",
      "middle_name": "Отчество Автора",
      "birth_year": 1990,
      "is_author": true
    }
    ```

- **PUT /users/{user_id}**: Изменить данные пользователя по ID
  - *Параметры пути*: `user_id` - ID пользователя
  - *Тело запроса*:
    ```json
    {
      "name": "Новое Имя",
      "last_name": "Новая Фамилия",
      "middle_name": "Новое Отчество",
      "birth_year": 1995,
      "is_author": false
    }
    ```
  - *Ответ*:
    ```json
    {
      "id": 1,
      "name": "Новое Имя",
      "last_name": "Новая Фамилия",
      "middle_name": "Новое Отчество",
      "birth_year": 1995,
      "is_author": false
    }
    ```

- **GET /users/{user_id}**: Получить пользователя по ID
  - *Параметры пути*: `user_id` - ID пользователя
  - *Ответ*:
    ```json
    {
      "id": 1,
      "name": "Новое Имя",
      "last_name": "Новая Фамилия",
      "middle_name": "Новое Отчество",
      "birth_year": 1995,
      "is_author": false
    }
    ```

- **GET /users**: Получить список всех пользователей с пагинацией
  - *Параметры запроса*:
    - `is_author` (необязательный, по умолчанию false): true для получения только авторов
    - `skip` (необязательный, по умолчанию 0): количество пропущенных записей
    - `limit` (необязательный, по умолчанию 50): максимальное количество возвращаемых записей
  - *Ответ*:
    ```json
    [
      {
        "id": 1,
        "name": "Новое Имя",
        "last_name": "Новая Фамилия",
        "middle_name": "Новое Отчество",
        "birth_year": 1995,
        "is_author": false
      }
    ]
    ```

### Books /Книги/

- **POST /books**: Создать новую книгу
  - *Тело запроса*:
    ```json
    {
      "title": "Оно",
      "author_id": "1",
      "genre": "Ужасы",
      "year": 1985,
      "status": true
    }
    ```
  - *Ответ*:
    ```json
    {
      "id": 1,
      "title": "Оно",
      "author_id": "1",
      "genre": "Ужасы",
      "year": 1985,
      "status": true
    }
    ```

- **PUT /books/{book_id}**: Изменить данные книги по ID
  - *Параметры пути*: `book_id` - ID книги
  - *Тело запроса*:
    ```json
    {
      "title": "Новое Название",
      "author_id": "1",
      "genre": "Новый жанр",
      "year": 1986,
      "status": false
    }
    ```
  - *Ответ*:
    ```json
    {
      "id": 1,
      "title": "Новое Название",
      "author_id": "1",
      "genre": "Новый жанр",
      "year": 1986,
      "status": false
    }
    ```

- **GET /books/{book_id}**: Получить книгу по ID
  - *Параметры пути*: `book_id` - ID книги
  - *Ответ*:
    ```json
    {
      "id": 1,
      "title": "Новое Название",
      "author_id": "1",
      "genre": "Новый жанр",
      "year": 1986,
      "status": false
    }
    ```

- **GET /books**: Получить список всех книг с пагинацией
  - *Параметры запроса*:
    - `skip` (необязательный, по умолчанию 0): количество пропущенных записей
    - `limit` (необязательный, по умолчанию 10): максимальное количество возвращаемых записей
  - *Ответ*:
    ```json
    [
      {
        "id": 1,
        "title": "Новое Название",
        "author_id": "1",
        "genre": "Новый жанр",
        "year": 1986,
        "status": false
      }
    ]
    ```

### Loans /Аренда книг/

- **POST /loans**: Создать аренду книги
  - *Тело запроса*:
    ```json
    {
      "id": 1,
      "book_id": 1,
      "user_id": 1,
      "loan_date": "2024-06-01"
    }
    ```
  - *Ответ*:
    ```json
    {
      "id": 1,
      "book_id": 1,
      "user_id": 1,
      "loan_date": "2024-06-01",
      "return_date": null
    }
    ```

- **PUT /loans/{book_id}**: Вернуть книгу
  - *Параметры пути*: `book_id` - ID книги
  - *Тело запроса*:
    ```json
    {
      "book_id": 1,
      "return_date": "2024-06-13"
    }
    ```
  - *Ответ*:
    ```json
    {
      "id": 1,
      "book_id": 1,
      "user_id": 1,
      "loan_date": "2024-06-01",
      "return_date": "2024-06-13"
    }
    ```

- **GET /loans**: Получить список всех аренд с пагинацией
  - *Параметры запроса*:
    - `skip` (необязательный, по умолчанию 0): количество пропущенных записей
    - `limit` (необязательный, по умолчанию 50): максимальное количество возвращаемых записей
  - *Ответ*:
    ```json
    [
      {
        "id": 1,
        "book_id": 1,
        "user_id": 1,
        "loan_date": "2024-06-01",
        "return_date": "2024-06-13"
      }
    ]
    ```